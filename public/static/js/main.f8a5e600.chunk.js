(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/logo_transparent copy.8be93cc0.png"},39:function(e,t,a){e.exports=a(69)},44:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),i=a(2),o=a(3),u=a(5),s=a(4),m=a(6),p=(a(44),a(13)),d=a(1),h=a(12),f=a.n(h),g="https://morfapp.herokuapp.com",E=function(e){return f.a.post("".concat(g,"/signup"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},v=function(e){return f.a.post("".concat(g,"/login"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},b=function(){localStorage.removeItem("TOKEN"),localStorage.removeItem("USER"),window.location.reload(),window.location.href="https://morfapp.herokuapp.com"},k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.location,t=JSON.parse(localStorage.getItem("USER")).name,n=JSON.parse(localStorage.getItem("USER"))._id;return r.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(d.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/recipes"},"Recipes")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/recipes/new"},"Upload")))),"/"===e.pathname?r.a.createElement("div",null):r.a.createElement("div",{className:"uk-navbar-center"},r.a.createElement(d.b,{to:"/"},r.a.createElement("img",{src:a(18),alt:"morfapp-logo",style:{height:"50px"}}))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",null,r.a.createElement(d.b,{to:"/user/".concat(n)},t)),r.a.createElement("li",{onClick:b},r.a.createElement(d.b,{to:"#"},"Logout")))))}}]),t}(n.Component),y=Object(p.f)(k),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.location;return r.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(d.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/recipes"},"Recipes")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/recipes/new"},"Upload")))),"/"===e.pathname?r.a.createElement("div",null):r.a.createElement("div",{className:"uk-navbar-center"},r.a.createElement(d.b,{to:"/"},r.a.createElement("img",{src:a(18),alt:"morfapp-logo",style:{height:"50px"}}))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(d.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/login"},"Login")))))}}]),t}(n.Component),O=Object(p.f)(N),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).checkIfUser=function(){return window.localStorage.TOKEN?r.a.createElement(y,null):r.a.createElement(O,null)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Navbar"},this.checkIfUser())}}]),t}(n.Component),j=a(36),w="https://morfapp.herokuapp.com",C=function(e){return f.a.get("".concat("https://api.edamam.com/search?","q=").concat(e,"&app_id=").concat("97cb8be0","&app_key=").concat("3999bfc1be3cf4b776b07f2db54fd15b")).then(function(e){return e.data.hits}).catch(function(e){return console.log(e)})},R=function(e){return f.a.post("".concat(w,"/new"),e,{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"multipart/form-data"}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)})},U=function(e){return f.a.delete("".concat(w,"/").concat(e),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)})},x=function(e){var t=e.detailedRecipe;return r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin","uk-grid":"true"},r.a.createElement("div",{className:"uk-card-media-left uk-cover-container"},r.a.createElement("img",{src:t.recipe.image,alt:t.recipe.label,"uk-cover":"true"}),r.a.createElement("canvas",{width:"600",height:"400"})),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},t.recipe.label),r.a.createElement("ul",null,t.recipe.ingredientLines.map(function(e,t){return r.a.createElement("li",{key:t},e)}))))))},I=function(e){var t=e.recipes,a=e.searchLabel,n=e.showDetailedRecipe,c=e.detailedRecipe;return r.a.createElement("div",{className:"Recipes main-container"},Object.keys(c).length?r.a.createElement(x,{detailedRecipe:c}):r.a.createElement("div",{className:"uk-child-width-1-3@m","uk-grid":"true"},t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-hover uk-card-small"},r.a.createElement("div",{onClick:function(){return n(t)}},r.a.createElement("div",{className:"uk-card-media-top"},r.a.createElement("img",{src:e.recipe.image,alt:e.recipe.label})),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},e.recipe.label),r.a.createElement("p",null,"Ingredients:"),r.a.createElement("ul",null,e.recipe.ingredientLines.slice(0,5).map(function(e,t){return r.a.createElement("li",{key:t},e.length<=30?e:e.substring(0,30)+"...")})))),r.a.createElement("div",{className:"uk-card-footer"},e.recipe.healthLabels.map(function(e,t){return r.a.createElement("button",{key:t,className:"uk-button uk-button-primary uk-button-small health-label",name:"label",value:e,onClick:a},"#",e.toUpperCase())}))))})))},L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={ingredient:"",foundRecipes:[],detailedRecipe:{}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(j.a)({},n,r))},a.handleSubmitSearch=function(e){e.preventDefault();var t=a.state,n=t.ingredient,r=t.foundRecipes;C(n).then(function(e){r=e}).then(function(){a.setState({foundRecipes:r})}),console.log("Los ingredientes: ",n),setTimeout(function(){console.log("Las recetas: ",r)},3e3)},a.handleSearchLabels=function(e){var t=e.target.value,n=a.state.foundRecipes;C(t).then(function(e){n=e}).then(function(){a.setState({foundRecipes:n})})},a.handleShowDetailedRecipe=function(e){var t=a.state,n=t.detailedRecipe,r=t.foundRecipes;n=r[e],console.log("la detailedRecipe: ",n),a.setState({foundRecipes:r,detailedRecipe:n})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.foundRecipes,n=e.detailedRecipe;return r.a.createElement("div",{className:"Home main-container"},r.a.createElement("div",{className:"home-container"},r.a.createElement("img",{src:a(18),alt:"morfapp-logo",style:{width:"450px",marginBottom:"20px"}}),r.a.createElement("form",{onSubmit:this.handleSubmitSearch},r.a.createElement("input",{className:"uk-input uk-form-width-large",placeholder:"Type your available ingredients...",onChange:this.handleChange,type:"text",name:"ingredient",value:this.state.ingredient}),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",value:"Search!"}))),t.length?r.a.createElement(I,{recipes:t,detailedRecipe:n,searchLabel:this.handleSearchLabels,showDetailedRecipe:this.handleShowDetailedRecipe}):null))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={auth:{name:"",lastname:"",email:"",username:"",password:""}},a.handleFormSubmit=function(e){if(e.preventDefault(),!a.state.auth.email.length)return a.setState({error:"You must enter an email"});a.onSignup()},a.onSignup=function(){var e=a.state.auth;E(e).then(function(e){var t=e.token,n=e.user;localStorage.setItem("TOKEN",t),localStorage.setItem("USER",JSON.stringify(n)),a.props.getUser(n),a.props.history.push("/")}).catch(function(e){return a.setState({error:e.message})})},a.handleChange=function(e){var t=a.state.auth;t[e.target.name]=e.target.value,a.setState({auth:t})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.auth,a=t.name,n=t.lastname,c=t.email,l=t.username,i=t.password;return r.a.createElement("div",{className:"custom-form main-container"},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("form",{className:"uk-form-stacked",onSubmit:this.handleFormSubmit},r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"First Name",type:"text",name:"name",value:a,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Last Name",type:"text",name:"lastname",value:n,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"E-mail",type:"email",name:"email",value:c,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Username",type:"text",name:"username",value:l,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Password",type:"password",name:"password",value:i,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",value:"Signup"}))),r.a.createElement("p",null,"Already have an account?",r.a.createElement(d.b,{to:"/login"}," Login")))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={auth:{username:"",password:""}},a.handleFormSubmit=function(e){if(e.preventDefault(),0===a.state.auth.username.length)return a.setState({error:"You must enter a username"});a.onLogin()},a.onLogin=function(){var e=a.state.auth;v(e).then(function(e){var t=e.token,n=e.user;localStorage.setItem("TOKEN",t),localStorage.setItem("USER",JSON.stringify(n)),a.props.getUser(n),a.props.history.push("/")}).catch(function(e){return a.setState({error:e.message})})},a.handleChange=function(e){var t=a.state.auth;t[e.target.name]=e.target.value,a.setState({auth:t})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.auth,t=e.username,a=e.password,n=e.error;return r.a.createElement("div",{className:"custom-form main-container"},r.a.createElement("h2",null,"Log In"),r.a.createElement("form",{className:"uk-form-stacked",onSubmit:this.handleFormSubmit},r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Username",type:"text",name:"username",value:t,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Password",type:"password",name:"password",value:a,onChange:this.handleChange})),n&&r.a.createElement("div",{className:"uk-alert-danger","uk-alert":"true"},r.a.createElement("p",null,n)),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",value:"Login"}))),r.a.createElement("p",null,"Don't have an account?",r.a.createElement(d.b,{to:"/signup"}," Signup")))}}]),t}(n.Component),D=a(19),F=a.n(D),J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={recipe:{name:"",ingredients:"",difficulty:"",images:[]},recipes:[]},a.handleChange=function(e){var t=a.state.recipe,n=e.target.name;if(e.target.files)return t.images=e.target.files,a.setState({recipe:t});t[n]=e.target.value,a.setState({recipe:t}),console.log(t)},a.handleFormSubmit=function(e){e.preventDefault(),a.onUpload()},a.onUpload=function(){var e=a.state.recipe,t=new FormData;if(e.images){var n=!0,r=!1,c=void 0;try{for(var l,i=e.images[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var o=l.value;t.append("images",o)}}catch(s){r=!0,c=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}}for(var u in e)t.append(u,e[u]),console.log("la key: ",u,e[u]);localStorage.length&&t.append("author",JSON.parse(localStorage.getItem("USER"))._id),R(t).then(function(e){return console.log("recipe upload successful! ",e)},F.a.fire({title:"Success!",text:"Your recipe has been successfully uploaded",type:"success",confirmButtonText:"Cool"}),a.props.history.push("/")).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.recipe,t=e.name,a=e.ingredients;return r.a.createElement("div",{className:"custom-form main-container"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"uk-form-stacked"},r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",name:"name",value:t,placeholder:"Name",onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("textarea",{className:"uk-textarea uk-form-width-medium",name:"ingredients",value:a,placeholder:"Ingredients",onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("select",{onChange:this.handleChange,name:"difficulty",className:"uk-select uk-form-width-medium"},r.a.createElement("option",{selected:!0,disabled:!0},"Difficulty level"),r.a.createElement("option",{value:"Beginner"},"Beginner"),r.a.createElement("option",{value:"Amateur"},"Amateur"),r.a.createElement("option",{value:"Semi-Pro"},"Semi-Pro"),r.a.createElement("option",{value:"Professional"},"Professional"),r.a.createElement("option",{value:"World Class"},"World Class"))),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-large",placeholder:"Images",type:"file",name:"images",onChange:this.handleChange,multiple:!0})),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",className:"uk-button uk-button-primary"}))))}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={customRecipes:[]},a.onDelete=function(e){U(e).then(function(){return a.props.history.push("/")})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;f.a.get("".concat(w),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)}).then(function(t){e.setState({customRecipes:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.customRecipes;return r.a.createElement("div",{className:"custom-recipes-container main-container"},r.a.createElement("div",{className:"uk-child-width-1-3@m","uk-grid":"true"},t.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-media-top"},r.a.createElement("img",{src:t.images?t.images[0]:null,alt:t.name})),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement(d.b,{to:"/recipe/".concat(t._id)},r.a.createElement("h3",{className:"uk-card-title"},t.name)),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.")),r.a.createElement("button",{className:"uk-button uk-primary"},r.a.createElement("span",{"uk-icon":"icon: star"})," Fav"),r.a.createElement("button",{onClick:function(){return e.onDelete(t._id)},className:"uk-button uk-danger"},r.a.createElement("span",{"uk-icon":"icon: star"})," Delete")))})))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={customRecipe:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;(function(e){return f.a.get("".concat(w,"/").concat(e),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)})})(this.props.match.params.id).then(function(t){return e.setState({customRecipe:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.customRecipe;return console.log("en el render ",e.images),r.a.createElement("div",{className:"custom-recipe-detail-container main-container"},r.a.createElement("div",{class:"uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin","uk-grid":"true"},r.a.createElement("div",{class:"uk-card-media-left uk-cover-container"},r.a.createElement("img",{src:e.name,alt:e.name,"uk-cover":"true"}),r.a.createElement("canvas",{width:"600",height:"400"})),r.a.createElement("div",null,r.a.createElement("div",{class:"uk-card-body"},r.a.createElement("h3",{class:"uk-card-title"},e.name),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.")))))}}]),t}(n.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("USER"));return r.a.createElement("div",null,r.a.createElement("div",null,"Welcome, ",e.name,"!"),r.a.createElement("img",{src:e.profilePicture,alt:"".concat(e.name,"'s profile pic"),style:{width:"200px",borderRadius:"5px"}}))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).getTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null,customRecipes:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.loggedInUser;return r.a.createElement("div",{className:"Router"},r.a.createElement(S,{isLogged:t}),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:L}),r.a.createElement(p.a,{exact:!0,path:"/recipe/:id",component:P}),r.a.createElement(p.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(T,Object.assign({},t,{getUser:e.getTheUser}))}}),r.a.createElement(p.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(A,Object.assign({},t,{getUser:e.getTheUser}))}}),r.a.createElement(p.a,{exact:!0,path:"/user/:id",component:W}),r.a.createElement(p.a,{exact:!0,path:"/recipes/new",component:J}),r.a.createElement(p.a,{exact:!0,path:"/recipes",render:function(t){return r.a.createElement(K,Object.assign({},t,{getRecipe:e.getTheCustomRecipes}))}})))}}]),t}(r.a.Component),B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(65);var z=a(37),H=a.n(z),Y=a(38),M=a.n(Y);a(68);H.a.use(M.a);l.a.render(r.a.createElement(function(){return r.a.createElement(d.a,null,r.a.createElement(B,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.f8a5e600.chunk.js.map