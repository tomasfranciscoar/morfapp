(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(47),l=a.n(c),i=a(3),o=a(4),u=a(6),s=a(5),m=(a(86),a(7)),p=a(2),h=a(9),d=a.n(h),f="https://morfapp.herokuapp.com",g=function(e){return d.a.post("".concat(f,"/signup"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},E=function(e){return d.a.post("".concat(f,"/login"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},v=function(){localStorage.removeItem("TOKEN"),localStorage.removeItem("USER"),window.location.reload(),window.location.href="https://morfapp.herokuapp.com"},b=function(e){return d.a.patch("".concat(f,"/profile/").concat(JSON.parse(localStorage.getItem("USER"))._id),e,{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"multipart/form-data"}}).then(function(e){return e.data.profile}).catch(function(e){return e})},k=function(){return d.a.get("".concat(f,"/profile/").concat(JSON.parse(localStorage.getItem("USER"))._id),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data.profile}).catch(function(e){return e})},N=function(e,t){return d.a.patch("".concat(f,"/profile/favs/").concat(t),{favs:e}).then(function(e){return e.data.profile}).catch(function(e){return console.log(e)})},y=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={profile:{}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;k().then(function(t){e.setState({profile:t})}).catch(function(e){return e})}},{key:"render",value:function(){var e=this.props.location,t=this.state.profile,n=JSON.parse(localStorage.getItem("USER"))._id;return r.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true","uk-sticky":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active navbar-item"},r.a.createElement(p.b,{to:"/"},"HOME")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(p.b,{to:"/recipes"},"RECIPES")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(p.b,{to:"/recipes/new"},"UPLOAD")))),"/"===e.pathname?r.a.createElement("div",null):r.a.createElement("div",{className:"uk-navbar-center"},r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{src:a(23),alt:"morfapp-logo",style:{height:"50px"}}))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(p.b,{to:"/user/".concat(n)},t.name?t.name:null)),r.a.createElement("li",{onClick:v,className:"navbar-item"},r.a.createElement(p.b,{to:"#"},t.name?"Logout":null)))))}}]),n}(n.Component),S=Object(m.f)(y),O=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.location;return r.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true","uk-sticky":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(p.b,{to:"/"},"HOME")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/signup"},"UPLOAD RECIPE")))),"/"===e.pathname?r.a.createElement("div",null):r.a.createElement("div",{className:"uk-navbar-center"},r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{src:a(23),alt:"morfapp-logo",style:{height:"50px"}}))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(p.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/login"},"Login")))))}}]),n}(n.Component),C=Object(m.f)(O),w=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).checkIfUser=function(){return window.localStorage.TOKEN?r.a.createElement(S,null):r.a.createElement(C,null)},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Navbar"},this.checkIfUser())}}]),a}(n.Component),R=a(49),j="https://morfapp.herokuapp.com/recipe",I=function(e){return d.a.get("".concat("https://api.edamam.com/search?","q=").concat(e,"&app_id=").concat("97cb8be0","&app_key=").concat("3999bfc1be3cf4b776b07f2db54fd15b")).then(function(e){return e.data.hits}).catch(function(e){return console.log(e)})},U=function(e){return d.a.post("".concat(j,"/new"),e,{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"multipart/form-data"}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)})},x=function(e){return d.a.delete("".concat(j,"/").concat(e),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)})},P=function(e,t,a){return d.a.post("".concat(j,"/comment"),{comment:e,author:t,recipe:a}).then(function(e){return e.data.comment}).catch(function(e){return console.log(e)})},A=function(e){return d.a.get("".concat(j,"/comment/").concat(e)).then(function(e){return e.data.comments}).catch(function(e){return console.log(e)})},D=function(e){return d.a.get("".concat(j,"/favs/").concat(e)).then(function(e){return e.data}).catch(function(e){return console.log(e)})},T=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.detailedRecipe;return r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin","uk-grid":"true"},r.a.createElement("div",{className:"uk-card-media-left uk-cover-container"},r.a.createElement("img",{src:e.recipe.image,alt:e.recipe.label,"uk-cover":"true"}),r.a.createElement("canvas",{width:"600",height:"400"})),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},e.recipe.label),r.a.createElement("ul",null,e.recipe.ingredientLines.map(function(e,t){return r.a.createElement("li",{key:t},e)})),r.a.createElement("a",{href:e.recipe.url,target:"_blank"},"Go to the recipe")))))}}]),a}(n.Component),L=function(e){var t=e.recipes,a=e.searchLabel,n=e.showDetailedRecipe,c=e.detailedRecipe;return r.a.createElement("div",{className:"Recipes main-container"},Object.keys(c).length?r.a.createElement(T,{detailedRecipe:c}):r.a.createElement("div",{className:"uk-child-width-1-3@m uk-grid-match","uk-grid":"true"},t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-hover uk-card-small"},r.a.createElement("div",{onClick:function(){return n(t)}},r.a.createElement("div",{className:"uk-card-media-top"},r.a.createElement("img",{src:e.recipe.image,alt:e.recipe.label})),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},e.recipe.label),r.a.createElement("p",null,"Ingredients:"),r.a.createElement("ul",null,e.recipe.ingredientLines.slice(0,5).map(function(e,t){return r.a.createElement("li",{key:t},e.length<=30?e:e.substring(0,30)+"...")})))),r.a.createElement("div",{className:"uk-card-footer"},e.recipe.healthLabels.map(function(e,t){return r.a.createElement("button",{key:t,className:"uk-button uk-button-primary uk-button-small health-label",name:"label",value:e,onClick:a},"#",e.toUpperCase())}))))})))},_=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ingredient:"",foundRecipes:[],detailedRecipe:{}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(R.a)({},n,r))},e.clearHome=function(){e.setState({ingredient:"",foundRecipes:[],detailedRecipe:{}})},e.handleSubmitSearch=function(t){t.preventDefault();var a=e.state,n=a.ingredient,r=a.foundRecipes;I(n).then(function(e){r=e}).then(function(){e.setState({foundRecipes:r,ingredient:""})})},e.handleSearchLabels=function(t){var a=t.target.value,n=e.state.foundRecipes;I(a).then(function(e){n=e}).then(function(){e.setState({foundRecipes:n})})},e.handleShowDetailedRecipe=function(t){var a=e.state,n=a.detailedRecipe,r=a.foundRecipes;n=r[t],e.setState({foundRecipes:r,detailedRecipe:n})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.foundRecipes,n=e.detailedRecipe;return r.a.createElement("div",{className:"Home main-container small-site"},r.a.createElement("div",{className:"home-container"},r.a.createElement("img",{src:a(23),alt:"morfapp-logo",style:{width:"450px",marginBottom:"20px"}}),r.a.createElement("h2",{class:"welcome",id:"welcome-title"},"Welcome to morfApp!"," "),r.a.createElement("h4",{class:"welcome"},"Just type below your available ingredients and we'll look up some cool recipes for you to prepare."),r.a.createElement("form",{onSubmit:this.handleSubmitSearch},r.a.createElement("input",{className:"uk-input uk-form-width-large",placeholder:"Type your available ingredients!",onChange:this.handleChange,type:"text",name:"ingredient",value:this.state.ingredient}),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",value:"Search!"}),t.length?r.a.createElement("button",{onClick:this.clearHome,type:"button",className:"uk-button uk-button-secondary",style:{marginLeft:"5px"}},"CLEAR"):null)),t.length?r.a.createElement(L,{recipes:t,detailedRecipe:n,searchLabel:this.handleSearchLabels,showDetailedRecipe:this.handleShowDetailedRecipe}):null))}}]),n}(n.Component),F=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={auth:{name:"",lastname:"",email:"",username:"",password:""}},e.handleFormSubmit=function(t){if(t.preventDefault(),!e.state.auth.email.length)return e.setState({error:"You must enter an email"});e.onSignup()},e.onSignup=function(){var t=e.state.auth;g(t).then(function(t){var a=t.token,n=t.user;localStorage.setItem("TOKEN",a),localStorage.setItem("USER",JSON.stringify(n)),e.props.getUser(n),e.props.history.push("/")}).catch(function(t){return e.setState({error:t.message})})},e.handleChange=function(t){var a=e.state.auth;a[t.target.name]=t.target.value,e.setState({auth:a})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.auth,a=t.name,n=t.lastname,c=t.email,l=t.username,i=t.password,o=this.state.error;return r.a.createElement("div",{className:"custom-form main-container small-site"},r.a.createElement("h5",null,"SIGN UP"),r.a.createElement("form",{className:"uk-form-stacked",onSubmit:this.handleFormSubmit},r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"First Name",type:"text",name:"name",value:a,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Last Name",type:"text",name:"lastname",value:n,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"E-mail",type:"email",name:"email",value:c,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Username",type:"text",name:"username",value:l,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Password",type:"password",name:"password",value:i,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",{className:"uk-alert-danger"},"(Password must be at least 8 characters long)"),o&&r.a.createElement("div",{className:"uk-alert-danger","uk-alert":"true"},r.a.createElement("p",null,o)),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",value:"Signup"}))),r.a.createElement("p",null,"Already have an account?",r.a.createElement(p.b,{to:"/login"}," Login")))}}]),a}(n.Component),J=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={auth:{username:"",password:""}},e.handleFormSubmit=function(t){if(t.preventDefault(),0===e.state.auth.username.length)return e.setState({error:"You must enter a username"});e.onLogin()},e.onLogin=function(){var t=e.state.auth;E(t).then(function(t){var a=t.token,n=t.user;localStorage.setItem("TOKEN",a),localStorage.setItem("USER",JSON.stringify(n)),e.props.getUser(n),e.props.history.push("/")}).catch(function(t){return e.setState({error:t.message})})},e.handleChange=function(t){var a=e.state.auth;a[t.target.name]=t.target.value,e.setState({auth:a})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.auth,t=e.username,a=e.password,n=this.state.error;return r.a.createElement("div",{className:"custom-form main-container small-site"},r.a.createElement("h5",null,"LOG IN"),r.a.createElement("form",{className:"uk-form-stacked",onSubmit:this.handleFormSubmit},r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Username",type:"text",name:"username",value:t,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",placeholder:"Password",type:"password",name:"password",value:a,onChange:this.handleChange})),n&&r.a.createElement("div",{className:"uk-alert-danger","uk-alert":"true"},r.a.createElement("p",null,n)),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",value:"Login"}))),r.a.createElement("p",null,"Don't have an account?",r.a.createElement(p.b,{to:"/signup"}," Signup")))}}]),a}(n.Component),K=a(21),Y=a(17),B=a.n(Y),M=a(50),z=a.n(M),W=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={recipe:{name:"",difficulty:"",images:[]},recipes:[],chips:[]},e.handleChange=function(t){var a=e.state.recipe,n=t.target.name;if(t.target.files)return a.images=t.target.files,e.setState({recipe:a});a[n]=t.target.value,e.setState({recipe:a})},e.handleChips=function(t){e.setState({chips:t})},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.recipe,r=a.chips;if(0===n.name.length||0===r.length||0===n.difficulty.length)return e.setState({error:"You must complete every field"});e.onUpload()},e.onUpload=function(){var t=e.state,a=t.recipe,n=t.chips,r=new FormData;if(a.images){var c,l=Object(K.a)(a.images);try{for(l.s();!(c=l.n()).done;){var i=c.value;r.append("images",i)}}catch(m){l.e(m)}finally{l.f()}}for(var o in a)r.append(o,a[o]);for(var u=n,s=0;s<u.length;s++)r.append("chips",u[s]);localStorage.length&&r.append("author",JSON.parse(localStorage.getItem("USER"))._id),U(r).then(function(t){B.a.fire({title:"Success!",text:"Your recipe has been successfully uploaded",type:"success",confirmButtonText:"Cool"}),e.props.history.push("/recipe/".concat(t._id))}).catch(function(t){return e.setState({error:t.message})})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.recipe,t=e.name,a=e.instructions,n=this.state,c=n.error,l=n.chips;return r.a.createElement("div",{className:"custom-form main-container small-site"},r.a.createElement("h5",null,"UPLOAD RECIPE"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"uk-form-stacked recipe-form"},r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-large",name:"name",value:t,placeholder:"Title",onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("div",null,r.a.createElement(z.a,{className:"uk-input uk-form-width-large",name:"chips",value:l,placeholder:"Ingredients",onChange:this.handleChips}))),r.a.createElement("p",null,r.a.createElement("textarea",{className:"uk-textarea uk-form-width-large",name:"instructions",value:a,placeholder:"Instructions",onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("select",{onChange:this.handleChange,name:"difficulty",className:"uk-select uk-form-width-large"},r.a.createElement("option",{selected:!0,disabled:!0},"Difficulty level"),r.a.createElement("option",{value:"Beginner"},"Beginner"),r.a.createElement("option",{value:"Amateur"},"Amateur"),r.a.createElement("option",{value:"Semi-Pro"},"Semi-Pro"),r.a.createElement("option",{value:"Professional"},"Professional"),r.a.createElement("option",{value:"World Class"},"World Class"))),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-large",placeholder:"Images",type:"file",name:"images",onChange:this.handleChange})),c&&r.a.createElement("div",{className:"uk-alert-danger","uk-alert":"true"},r.a.createElement("p",null,c)),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",className:"uk-button uk-button-primary"}))))}}]),a}(n.Component),G=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={customRecipes:[],newCustomRecipes:[]},e.handleSearch=function(t){var a=e.state,n=a.customRecipes,r=a.newCustomRecipes,c=t.target.value;n=r.filter(function(e){if(""===c)return r;for(var t=0;t<e.chips.length;t++)if(e.chips[t].toLowerCase().includes(c.toLowerCase()))return e}),e.setState({customRecipes:n})},e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this;d.a.get("".concat(j),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)}).then(function(t){e.setState({customRecipes:t.reverse(),newCustomRecipes:t.reverse()})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.customRecipes.reverse();return r.a.createElement("div",{className:"custom-recipes-container main-container"},r.a.createElement("h2",null,"USERS' RECIPES"),r.a.createElement("input",{type:"search",onChange:this.handleSearch,placeholder:"Search by ingredient",className:"uk-input uk-form-width-large search-custom-recipes"}),r.a.createElement("div",{className:"uk-child-width-1-3@m uk-grid-match","uk-grid":"true"},e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-media-top"},r.a.createElement("img",{src:e.images?e.images:null,alt:e.name})),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement(p.b,{to:"/recipe/".concat(e._id)},r.a.createElement("h3",{className:"uk-card-title"},e.name)),r.a.createElement("div",{className:"custom-recipe-card-text"},r.a.createElement("h5",null,"INGREDIENTS:"),r.a.createElement("ul",null,e.chips.map(function(e){return r.a.createElement("li",null,e)})),r.a.createElement("h5",null,"INSTRUCTIONS:"),r.a.createElement("p",null,e.instructions))),r.a.createElement("div",{className:"uk-card-footer"},"Difficulty: ",e.difficulty)))})))}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={customRecipe:{comment:""},ingredients:"",comments:[],favs:[],userFaved:{},userId:JSON.parse(localStorage.getItem("USER"))._id},e.onDelete=function(){var t=e.props.match.params.id;x(t).then(function(){B.a.fire({title:"Deleted!",text:"Your recipe has been successfully deleted",type:"warning",confirmButtonText:"Cool"}),e.props.history.push("/recipes")})},e.onFav=function(t){var a=e.props.match.params.id,n=t.target.value;N(n,a).then(function(){D(a).then(function(t){return e.setState({favs:t})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})},e.handleChange=function(t){var a=e.state.customRecipe;a[t.target.name]=t.target.value,e.setState({customRecipe:a})},e.handleSubmit=function(t){t.preventDefault(),e.handlePostComment()},e.handlePostComment=function(){var t=e.state.customRecipe,a=t.comment,n=t._id,r=JSON.parse(localStorage.getItem("USER"))._id;P(a,r,n).then(function(){A(e.props.match.params.id).then(function(t){e.setState({customRecipe:{comment:""}}),e.setState({comments:t})})}).catch(function(t){return e.setState({error:t.message})})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;(function(e){return d.a.get("".concat(j,"/").concat(e),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data.recipe}).catch(function(e){return console.log(e)})})(t).then(function(t){return e.setState({customRecipe:t,ingredients:t.ingredients})}).catch(function(e){return console.log(e)}),A(t).then(function(t){return e.setState({comments:t})}).catch(function(e){return console.log(e)}),D(t).then(function(t){return e.setState({favs:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.customRecipe,a=e.userId,n=e.comments,c=e.favs,l=JSON.parse(localStorage.getItem("USER"))._id;return r.a.createElement("div",{className:"custom-recipe-detail-container main-container small-site"},r.a.createElement("div",{className:"uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin","uk-grid":"true"},r.a.createElement("div",{className:"uk-card-media-left uk-cover-container"},r.a.createElement("img",{src:t.images,alt:t.name,"uk-cover":"true"}),r.a.createElement("canvas",{width:"600",height:"400"})),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card-body custom-recipe-detail-body"},r.a.createElement("h3",{className:"uk-card-title"},t.name),r.a.createElement("h5",null,"INGREDIENTS:"),r.a.createElement("ul",null,t.chips?t.chips.map(function(e,t){return r.a.createElement("li",{key:t,className:"custom-ingredients-list"},e)}):null),r.a.createElement("h5",null,"INSTRUCTIONS:"),r.a.createElement("p",null,t.instructions),r.a.createElement("button",{name:"favs",type:"submit",value:a,onClick:this.onFav,className:"uk-button uk-primary"},r.a.createElement("span",{"uk-icon":"icon: star"})," Favs:"," ",c.users?c.users.length:0),t.author&&t.author._id===l?r.a.createElement("button",{onClick:this.onDelete,className:"uk-button uk-danger"},r.a.createElement("span",{"uk-icon":"icon: trash"})," Delete"):null))),r.a.createElement("div",{className:"comment-input"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"comment-form"},r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",placeholder:"Comment...",type:"text",name:"comment",value:t.comment}),r.a.createElement("button",{className:"uk-button uk-button-primary"},"Comment"))),r.a.createElement("div",{className:"comments"},n.map(function(e,t){return r.a.createElement("div",{key:t,className:"comment"},r.a.createElement("p",null,r.a.createElement("strong",null,e.author.username),": ",e.comment),r.a.createElement("p",{style:{fontSize:"8px"}},"Posted on ",e.createdAt.slice(0,10)," at"," ",e.createdAt.slice(11,19)))})))}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={profile:{},myRecipes:[],myFavs:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;k().then(function(t){var a=t.favs;e.setState({profile:t,myFavs:a})}).catch(function(e){return e}),d.a.get("".concat(j,"/myrecipes/").concat(JSON.parse(localStorage.getItem("USER"))._id)).then(function(e){return e.data.recipes}).catch(function(e){return console.log(e)}).then(function(t){e.setState({myRecipes:t.reverse()})}).catch(function(e){return e})}},{key:"render",value:function(){var e=this.state.profile,t=this.state,a=t.myRecipes,n=t.myFavs;return r.a.createElement("div",{className:"profile-container main-container small-site"},r.a.createElement("a",{href:e.profilePicture,target:"_blank"},r.a.createElement("img",{src:e.profilePicture,alt:"".concat(e.name,"'s profile pic"),style:{width:"200px",borderRadius:"5px"},className:"profile-picture"})),r.a.createElement("div",{className:"edit-profile-button"},r.a.createElement(p.b,{to:"/user/edit/".concat(e._id)},r.a.createElement("button",{className:"uk-button uk-button-secondary uk-button-small"},"Edit Profile"))),r.a.createElement("div",{className:"profile-lists-main-container"},r.a.createElement("div",{className:"profile-list-container"},r.a.createElement("h5",{className:"profile-list-title"},"MY RECIPES"),r.a.createElement("ul",{className:"profile-list"},a.map(function(e,t){return r.a.createElement(p.b,{key:t,to:"/recipe/".concat(e._id)},r.a.createElement("li",{className:"profile-list-item"},r.a.createElement("div",{className:"profile-list-name"},e.name),r.a.createElement("img",{className:"profile-list-img",src:e.images,alt:e.name})))}))),r.a.createElement("div",{className:"profile-list-container"},r.a.createElement("h5",{className:"profile-list-title"},"MY FAVS"),r.a.createElement("ul",{className:"profile-list"},n.reverse().map(function(e,t){return r.a.createElement(p.b,{key:t,to:"/recipe/".concat(e._id)},r.a.createElement("li",{className:"profile-list-item"},r.a.createElement("div",{className:"profile-list-name"},e.name),r.a.createElement("img",{className:"profile-list-img",src:e.images,alt:e.name})))})))))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:{name:JSON.parse(localStorage.getItem("USER")).name,lastname:JSON.parse(localStorage.getItem("USER")).lastname,username:JSON.parse(localStorage.getItem("USER")).username,id:JSON.parse(localStorage.getItem("USER"))._id,profilePicture:""}},e.handleFormSubmit=function(t){t.preventDefault(),e.onEdit()},e.handleChange=function(t){var a=e.state.user,n=t.target.name;if(t.target.files)return a.profilePicture=t.target.files,e.setState({user:a});a[n]=t.target.value,e.setState({user:a})},e.onEdit=function(){var t=e.state.user,a=new FormData;if(t.profilePicture){var n,r=Object(K.a)(t.profilePicture);try{for(r.s();!(n=r.n()).done;){var c=n.value;a.append("profilePicture",c)}}catch(i){r.e(i)}finally{r.f()}}for(var l in t)a.append(l,t[l]);if(""===t.profilePicture)return e.setState({error:"You must include a profile picture"});b(a).then(function(t){e.setState({user:t}),B.a.fire({title:"Success!",text:"Your profile has been successfully updated",type:"success",confirmButtonText:"Cool"}),e.props.history.push("/user/".concat(t.id))}).catch(function(e){return console.log(e)})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.user,a=t.name,n=t.lastname,c=t.username,l=t.id,i=this.state.error;return r.a.createElement("div",{className:"profile-edit-container main-container custom-form small-site"},r.a.createElement("h5",null,"EDIT PROFILE"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"uk-form-stacked"},r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",type:"text",name:"name",value:a,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",type:"text",name:"lastname",value:n,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",type:"text",name:"username",value:c,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-input uk-form-width-medium",type:"file",name:"profilePicture",onChange:function(t){return e.handleChange(t)}})),i&&r.a.createElement("div",{className:"uk-alert-danger","uk-alert":"true"},r.a.createElement("p",null,i)),r.a.createElement("p",null,r.a.createElement("input",{className:"uk-button uk-button-primary",type:"submit",value:"Edit"}),r.a.createElement(p.b,{to:"/user/".concat(l)},r.a.createElement("button",{type:"button",className:"uk-button uk-button-secondary",style:{marginLeft:"5px"}},"CANCEL")))))}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getTheUser=function(e){n.setState({loggedInUser:e})},n.state={loggedInUser:null,customRecipes:[]},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.loggedInUser;return r.a.createElement("div",{className:"Router"},r.a.createElement(w,{isLogged:t}),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:_}),r.a.createElement(m.a,{exact:!0,path:"/recipe/:id",component:H}),r.a.createElement(m.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(F,Object.assign({},t,{getUser:e.getTheUser}))}}),r.a.createElement(m.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(J,Object.assign({},t,{getUser:e.getTheUser}))}}),r.a.createElement(m.a,{exact:!0,path:"/user/:id",component:q}),r.a.createElement(m.a,{exact:!0,path:"/user/edit/:id",render:function(e){return r.a.createElement(V,e)}}),r.a.createElement(m.a,{exact:!0,path:"/recipes/new",component:W}),r.a.createElement(m.a,{exact:!0,path:"/recipes",render:function(t){return r.a.createElement(G,Object.assign({},t,{getRecipe:e.getTheCustomRecipes}))}})))}}]),a}(r.a.Component),Q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement($,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(127);var X=a(79),Z=a.n(X),ee=a(80),te=a.n(ee);a(128);Z.a.use(te.a);var ae=function(){return r.a.createElement(p.a,null,r.a.createElement(Q,null))};l.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,a){e.exports=a.p+"static/media/logo_transparent copy.8be93cc0.png"},81:function(e,t,a){e.exports=a(129)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.f08280ef.chunk.js.map